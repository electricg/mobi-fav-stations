<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Mobi fav stations">
  <meta name="author" content="Giulia Alfonsi - @electric_g">
  <meta name="theme-color" content="#0075B0">
  <meta name="robots" content="noindex,nofollow">
  <title>Mobi fav stations</title>
  <link rel="shortcut icon" href="images/logo/favicon.ico" sizes="any">
  <link rel="icon" href="images/logo/icon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" sizes="180x180" href="images/logo/apple-touch-icon.png">
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="mask-icon" href="images/logo/safari-pinned-tab.svg" color="#0075B0">
  <meta name="msapplication-TileColor" content="#2b5797">
  <meta name="msapplication-config" content="browserconfig.xml">
  <link rel="stylesheet" href="css/main.css">
  <link rel="preload" href="https://giulia.dev/mobi-api/station_status.json" as="fetch" type="application/json" crossorigin="anonymous">
</head>
<body>

<svg style="position: absolute; width: 0; height: 0;" width="0" height="0" version="1.1">
  <defs>
    <symbol id="icon-cancel-circle" viewBox="0 0 32 32">
      <path d="M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13z"/>
      <path d="M21 8l-5 5-5-5-3 3 5 5-5 5 3 3 5-5 5 5 3-3-5-5 5-5z"/>
    </symbol>
    <symbol id="icon-spinner" viewBox="0 0 32 32">
      <path d="M32 12h-12l4.485-4.485c-2.267-2.266-5.28-3.515-8.485-3.515s-6.219 1.248-8.485 3.515c-2.266 2.267-3.515 5.28-3.515 8.485s1.248 6.219 3.515 8.485c2.267 2.266 5.28 3.515 8.485 3.515s6.219-1.248 8.485-3.515c0.189-0.189 0.371-0.384 0.546-0.583l3.010 2.634c-2.933 3.349-7.239 5.464-12.041 5.464-8.837 0-16-7.163-16-16s7.163-16 16-16c4.418 0 8.418 1.791 11.313 4.687l4.687-4.687v12z"/>
    </symbol>
    <symbol id="icon-checked" viewBox="0 0 32 32">
      <path d="M28 0h-24c-2.2 0-4 1.8-4 4v24c0 2.2 1.8 4 4 4h24c2.2 0 4-1.8 4-4v-24c0-2.2-1.8-4-4-4zM14 24.828l-7.414-7.414 2.828-2.828 4.586 4.586 9.586-9.586 2.828 2.828-12.414 12.414z"></path>
    </symbol>
    <symbol id="icon-unchecked" viewBox="0 0 32 32">
      <path d="M28 0h-24c-2.2 0-4 1.8-4 4v24c0 2.2 1.8 4 4 4h24c2.2 0 4-1.8 4-4v-24c0-2.2-1.8-4-4-4zM28 28h-24v-24h24v24z"></path>
    </symbol>
    <symbol id="icon-bike" viewBox="0 0 24 24">
      <path d="m.939 10.983-.052.368a5.09 5.09 0 0 1 1.054-.737l-.392-.069a.52.52 0 0 0-.61.438zM8.595 16.026H7.571a.122.122 0 0 1-.121-.121v-.184c0-.064.051-.121.12-.121h1.025c.064 0 .121.051.121.12v.185c-.006.063-.057.12-.12.12z" fill="currentColor"/>
      <path d="m8.066 16.008 2.665.104a.293.293 0 0 0 .23-.202.298.298 0 0 0-.19-.385.23.23 0 0 0-.086-.018l-2.602.11a.199.199 0 0 0-.19.132.193.193 0 0 0 .12.248.167.167 0 0 0 .053.011z" fill="currentColor"/>
      <path d="M8.083 16.008a.196.196 0 1 0 0-.391.196.196 0 0 0 0 .391z" fill="currentColor"/>
      <path d="M8.163 14.96a3.639 3.639 0 1 1-7.277 0 3.639 3.639 0 0 1 7.277 0zm-3.638-3.983a3.985 3.985 0 0 0-3.983 3.984c0 2.199 1.784 3.983 3.983 3.983a3.985 3.985 0 0 0 3.984-3.983 3.985 3.985 0 0 0-3.984-3.984z" fill="currentColor"/>
      <path d="M8.952 14.96c0 2.447-1.98 4.427-4.427 4.427S.098 17.407.098 14.961a4.428 4.428 0 0 1 8.854 0zm-4.427-3.983a3.985 3.985 0 0 0-3.983 3.984 3.985 3.985 0 0 0 3.983 3.983 3.985 3.985 0 0 0 3.984-3.983c0-2.2-1.785-3.984-3.984-3.984z" fill="currentColor"/>
      <path d="M4.525 16.054a1.094 1.094 0 1 0 0-2.187 1.094 1.094 0 0 0 0 2.187zM23.211 14.96a3.638 3.638 0 1 1-7.277 0 3.638 3.638 0 0 1 7.277 0zm-3.638-3.983a3.985 3.985 0 0 0-3.983 3.984c0 2.199 1.784 3.983 3.983 3.983 2.2 0 3.984-1.784 3.984-3.983a3.985 3.985 0 0 0-3.984-3.984z" fill="currentColor"/>
      <path d="M24 14.96a4.425 4.425 0 0 1-4.427 4.427 4.425 4.425 0 0 1-4.427-4.426 4.425 4.425 0 0 1 4.427-4.427A4.428 4.428 0 0 1 24 14.96zm-4.427-3.983a3.985 3.985 0 0 0 0 7.967c2.2 0 3.984-1.784 3.984-3.983 0-2.2-1.785-3.984-3.984-3.984z" fill="currentColor"/>
      <path d="M19.573 15.905a.944.944 0 1 0 0-1.888.944.944 0 0 0 0 1.888zM15.296 16.13a4.437 4.437 0 0 1 5.112-5.515l.006-.335c0-.028-.023-.057-.052-.057a5.16 5.16 0 0 0-.795-.063 4.81 4.81 0 0 0-4.812 4.812c0 .443.178 1.215.242 1.485.011.04.057.046.08.012zM9.234 13.332c-.455-1.071-1.819-3.299-4.899-3.299-2.538 0-3.908 1.675-4.317 2.262-.052.07.017.167.103.144l1.923-.478s2.28-.587 2.28 2.718z" fill="currentColor"/>
      <path d="m16.367 9.377 1.422 3.448c.011.023.023.04.034.063l1.543 2.194a.237.237 0 0 0 .449-.093.233.233 0 0 0-.023-.109l-1.526-2.44c-.011-.024-.023-.047-.034-.076l-.518-1.629c-.26-.806-.576-4.853-.576-4.853l-1.25 1.042z" fill="currentColor"/>
      <path d="M19.953 14.396c.236.352.184.795-.104.99-.293.196-.72.064-.95-.287-.235-.351-.345-1.67-.345-1.67s1.163.61 1.4.967z" fill="currentColor"/>
      <path d="M19.573 15.156a.196.196 0 1 0 0-.391.196.196 0 0 0 0 .391z" fill="currentColor"/>
      <path d="M19.573 15.208a.248.248 0 1 0 0-.495.248.248 0 0 0 0 .495zM9.32 10.51l-.437.139-.495-1.56.438-.144zM6.972 8.57l.213.37a.119.119 0 0 0 .098.057l.92.006" fill="currentColor"/>
      <path d="m6.972 8.57.213.37a.119.119 0 0 0 .098.057l.92.006" stroke="currentColor" stroke-miterlimit="10" stroke-width=".173"/>
      <path d="m7.605 8.611.236.49a.1.1 0 0 0 .104.057l.443-.063" fill="currentColor"/>
      <path d="m7.605 8.611.236.49a.1.1 0 0 0 .104.057l.443-.063" stroke="currentColor" stroke-miterlimit="10" stroke-width=".173"/>
      <g fill="currentColor">
        <path d="M8.48 9.175a.478.478 0 1 0 0-.955.478.478 0 0 0 0 .955z"/>
        <path d="M8.192 8.128c-.195-.093-1.082-.42-1.48.35a.17.17 0 0 0 .11.237l.95.19s.541.115.685-.144a.164.164 0 0 1 .144-.08l1.813-.024s.087-.535-.477-.535l-1.658.023a.119.119 0 0 1-.087-.017zM6.43 15.105l-.017.287a.187.187 0 0 0 .15.19l2.4.392a.161.161 0 0 0 .19-.144l.093-.645a.233.233 0 0 0-.23-.265l-2.395-.005c-.098-.006-.19.08-.19.19zm2.217-4.853.662-.15.87 2.567a.2.2 0 0 0 .16.139l2.177.431a.19.19 0 0 0 .201-.086l3.281-5.083a.22.22 0 0 0 .03-.179l-.168-.587c-.017-.051-.063-.092-.115-.092l-.098-.006c-.069-.005-.126-.046-.144-.115l-.057-.195a.613.613 0 0 1 .063-.501l1.762-1.497a.066.066 0 0 1 .109.058l-.08 1.082-1.077.955a.146.146 0 0 0-.046.156l.15.581.748 1.03-4.974 7.91c-.288.46-.794.737-1.335.737h-.323c-.293 0-.576-.11-.789-.305l-.57-.512a.721.721 0 0 0-.35-.173l-4.56-.823a.34.34 0 0 1-.276-.334v-.063a1.185 1.185 0 0 1 .955-1.134l4.611-.933a.092.092 0 0 0 .07-.12z"/>
        <path d="M12.337 15.795c0 .921-.748 1.664-1.664 1.664a1.673 1.673 0 0 1-1.629-1.301M8.578 10.442a.15.15 0 1 0 0-.3.15.15 0 0 0 0 .3z"/>
        <path d="m8.601 10.16.95.253c.006 0 .017.006.023.006.086.04.639.27.184.99l-.057-.179s.333-.397-.15-.57l-.99-.236"/>
        <path d="M8.578 10.384a.092.092 0 1 0 0-.184.092.092 0 0 0 0 .184zM20.736 4.72l-.334 3.068a.903.903 0 0 1-.593.748l-1.888.662c-.294.104-.697-.034-.84-.305-.006-.017-.018-.034-.023-.046l-.484-1.209a.77.77 0 0 1 .334-1.001l3.73-1.975c.046-.04.104 0 .098.058zm-.3 1.335.087-.65c-.84.172-1.877.575-2.395 1.525-.34.622-.288 1.18-.282 1.244l.035-.006.581-.213c.046-1.128 1.082-1.681 1.975-1.9zm-.322.956s-.915.12-.817 1.295c0 0 .84-.12.817-1.295zM4.537 15.116a.144.144 0 1 0 0-.288.144.144 0 0 0 0 .288zM11.836 16.578c-.259.42-.662.65-1.168.65-.398 0-.691-.137-.979-.402-.017-.017-.541-.501-.639-.587a.12.12 0 0 0-.035-.023.697.697 0 0 0-.184-.064l-3.327-.512a.249.249 0 0 1-.207-.288l.04-.512c0-.087.11-.173.196-.196l4.3-1.053a.62.62 0 0 1 .23-.006l2.82.61c.053.011.099.04.14.075.091.098.143.253.074.368 0-.006-1.255 1.929-1.26 1.94zm-5.405-1.473-.018.287a.187.187 0 0 0 .15.19l2.4.392a.161.161 0 0 0 .19-.144l.093-.645a.233.233 0 0 0-.23-.265l-2.395-.005c-.098-.006-.19.08-.19.19zm4.242-.024a.732.732 0 0 0 0 1.463.732.732 0 0 0 0-1.463z"/>
        <path d="M4.525 15.214a.253.253 0 1 0 0-.507.253.253 0 0 0 0 .507zM10.673 16.498a.69.69 0 1 0 0-1.382.69.69 0 0 0 0 1.382z"/>
        <path d="M11.94 15.807a1.266 1.266 0 1 1-2.533 0 1.266 1.266 0 0 1 2.533 0zm-1.267-.553a.559.559 0 1 0 .559.559.563.563 0 0 0-.559-.559z"/>
        <path d="m13.275 16.008-2.665.104a.293.293 0 0 1-.23-.202.298.298 0 0 1 .19-.385.23.23 0 0 1 .086-.018l2.602.11c.086 0 .161.052.19.132a.193.193 0 0 1-.12.248.167.167 0 0 1-.053.011z"/>
        <path d="M10.673 16.049a.242.242 0 1 0 0-.484.242.242 0 0 0 0 .484zM13.77 16.026h-1.024a.122.122 0 0 1-.121-.121v-.184c0-.064.052-.121.12-.121h1.026c.063 0 .12.051.12.12v.185c0 .063-.052.12-.12.12z"/>
        <path d="M13.264 16.008a.196.196 0 1 0 0-.391.196.196 0 0 0 0 .391zM16.585 4.783l-1.53.345a.155.155 0 0 1-.18-.11l-.051-.218a.155.155 0 0 1 .11-.178l1.53-.346a.155.155 0 0 1 .179.11l.052.218c.017.087-.029.162-.11.179z"/>
        <path d="M16.528 5.013a.507.507 0 1 0 0-1.013.507.507 0 0 0 0 1.013z"/>
        <path d="M16.453 4.944a.397.397 0 1 0 0-.794.397.397 0 0 0 0 .794z"/>
        <path d="m16.804 4.472.691-.052a.106.106 0 0 1 .115.075l.04.115c.018.052-.011.104-.063.104-.063.006-.88.265-1.036.552-.04.075-.08.075-.11.052a.182.182 0 0 1-.086-.11c-.006-.034-.011-.068 0-.097"/>
      </g>
      <path d="m16.804 4.472.691-.052a.106.106 0 0 1 .115.075l.04.115c.018.052-.011.104-.063.104-.063.006-.88.265-1.036.552-.04.075-.08.075-.11.052a.182.182 0 0 1-.086-.11c-.006-.034-.011-.068 0-.097" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width=".403"/>
      <path d="M17.535 4.961h-.806a.146.146 0 0 1-.144-.144V4.6c0-.075.064-.144.144-.144h.806c.075 0 .144.063.144.144v.218c-.006.081-.069.144-.144.144z" fill="currentColor"/>
      <path d="M16.528 5.226a.507.507 0 1 0 0-1.013.507.507 0 0 0 0 1.013z" fill="currentColor"/>
      <path d="M16.453 5.157a.397.397 0 1 0 0-.794.397.397 0 0 0 0 .794z" fill="currentColor"/>
      <path d="m16.585 5.002-1.53.345a.155.155 0 0 1-.18-.11l-.051-.218a.155.155 0 0 1 .11-.179l1.53-.345a.155.155 0 0 1 .179.11l.052.218a.15.15 0 0 1-.11.179z" fill="currentColor"/>
      <path d="m16.833 4.685.69-.052a.106.106 0 0 1 .116.075l.04.115c.017.052-.011.104-.063.104-.063.006-.88.265-1.036.552-.04.075-.08.075-.11.052a.182.182 0 0 1-.086-.11c-.006-.034-.012-.068 0-.097" fill="currentColor"/>
      <path d="m16.833 4.685.69-.052a.106.106 0 0 1 .116.075l.04.115c.017.052-.011.104-.063.104-.063.006-.88.265-1.036.552-.04.075-.08.075-.11.052a.182.182 0 0 1-.086-.11c-.006-.034-.012-.068 0-.097" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width=".403"/>
      <path d="M14.968 5.41a.351.351 0 1 0 0-.702.351.351 0 0 0 0 .702zM16.965 15.657h-.132a.089.089 0 0 1-.086-.086v-1.238c0-.046.04-.086.086-.086h.132c.046 0 .087.04.087.086v1.238c-.006.046-.04.086-.087.086zM22.348 15.657h-.133a.089.089 0 0 1-.086-.086v-1.238c0-.046.04-.086.086-.086h.133c.046 0 .086.04.086.086v1.238a.085.085 0 0 1-.086.086z" fill="currentColor"/>
      <path d="M11.143 3a.274.274 0 0 0-.184.072.314.314 0 0 0-.097.182l-.852 3.971v.001a.32.32 0 0 0 .073.3c.054.057.127.09.203.09h1.571l-.423 3.015a.323.323 0 0 0 .078.279.271.271 0 0 0 .35.046.3.3 0 0 0 .105-.12l1.978-3.962-.003-.006A.314.314 0 0 0 14 6.692c0-.17-.128-.307-.286-.307h-1.571l.975-2.951a.327.327 0 0 0-.059-.344.276.276 0 0 0-.202-.09z" fill="currentColor" class="icon-bike-strike"/>
    </symbol>
    <symbol id="icon-dock" viewBox="0 0 23 22">
      <path d="m9.01 2.341 5.18 11.395-.214 1.617 2.847 6.2h6.175L12.982.333 9.01 2.341ZM5.613 18.126c.045-.027.104-.07.178-.134l3.262-3.263s.246-.254.296-.335a.553.553 0 0 0 .075-.296.586.586 0 0 0-.083-.315 3.042 3.042 0 0 0-.288-.315l-3.262-3.256a1.027 1.027 0 0 0-.162-.137.358.358 0 0 0-.193-.044H3.663a.16.16 0 0 0-.138.072.259.259 0 0 0-.051.157c0 .079.035.122.095.19l2.487 2.46c.106.107.06.206-.078.206H.658a.319.319 0 0 0-.235.093.316.316 0 0 0-.091.233v1.329c0 .089.032.163.096.221a.33.33 0 0 0 .23.088h5.318c.13 0 .173.103.078.198l-2.487 2.47c-.06.065-.095.118-.095.196a.24.24 0 0 0 .056.15c.036.048.08.07.134.07h1.773a.348.348 0 0 0 .178-.038Z"/>
    </symbol>
    <symbol id="icon-clipboard" viewBox="0 0 32 32">
      <path d="M14 26.828l-6.414-7.414 1.828-1.828 4.586 3.586 8.586-7.586 1.829 1.828z"></path>
    </symbol>
  </defs>
</svg>

<header class="main-header">
  <h1 class="main-header__title"><svg class="icon main-header__title__icon" focusable="false" aria-hidden="true"><use href="#icon-bike"></use></svg>Mobi Fav Stations v<span id="version">0</span></h1>
</header>

<main class="main-content">
<!-- HOME -->
  <section id="home" class="main-section main-section--home">
    <div id="favorites"></div>

    <div class="actions">
      <button id="toggle-stations" aria-pressed="false" class="button-toggle"><span>Show</span><span>Hide</span> all stations</button>
    </div>
  </section>

  <section id="stations" class="main-section--stations hide">
    <div class="stations-search">
      <input type="search" id="stations-filter-input" placeholder="Search station by name or number" aria-label="Search station by name or number">
    </div>

    <div>Information updated: <span id="last-updated-information"></span></div>

    <div id="stations-list"></div>
  </section>

<!-- SETTINGS -->
  <section id="settings" class="main-section main-section--settings">
    <details>
      <summary>Settings</summary>
      <div class="settings">
      
        <div class="input-checkbox">
          <label for="settings-show-classics" class="input-checkbox__label">
            <input type="checkbox" id="settings-show-classics" class="input-checkbox__check" value="showClassics">
            <svg class="icon input-checkbox__icon" focusable="false" aria-hidden="true">
              <use href="#icon-unchecked" class="input-checkbox__icon__unchecked"></use><use href="#icon-checked" class="input-checkbox__icon__checked"></use>
            </svg>
            <span>Show Classics</span>
          </label>
        </div>

        <div class="input-checkbox">
          <label for="settings-show-ebikes" class="input-checkbox__label">
            <input type="checkbox" id="settings-show-ebikes" class="input-checkbox__check" value="showEbikes">
            <svg class="icon input-checkbox__icon" focusable="false" aria-hidden="true">
              <use href="#icon-unchecked" class="input-checkbox__icon__unchecked"></use><use href="#icon-checked" class="input-checkbox__icon__checked"></use>
            </svg>
            <span>Show E-Bikes</span>
          </label>
        </div>

        <div class="input-checkbox">
          <label for="settings-show-docks" class="input-checkbox__label">
            <input type="checkbox" id="settings-show-docks" class="input-checkbox__check" value="showDocks">
            <svg class="icon input-checkbox__icon" focusable="false" aria-hidden="true">
              <use href="#icon-unchecked" class="input-checkbox__icon__unchecked"></use><use href="#icon-checked" class="input-checkbox__icon__checked"></use>
            </svg>
            <span>Show Docks</span>
          </label>
        </div>

        <div class="input-checkbox">
          <label for="settings-compact-layout" class="input-checkbox__label">
            <input type="checkbox" id="settings-compact-layout" class="input-checkbox__check" value="compactLayout">
            <svg class="icon input-checkbox__icon" focusable="false" aria-hidden="true">
              <use href="#icon-unchecked" class="input-checkbox__icon__unchecked"></use><use href="#icon-checked" class="input-checkbox__icon__checked"></use>
            </svg>
            <span>Compact Layout</span>
          </label>
        </div>

        <button id="toggle-edit" aria-pressed="false" class="button-toggle"><span>Start</span><span>Finish</span> editing stations</button>

        <button id="load-information" class="button-spinner load-information"><span>Load information</span><svg class="icon" focusable="false" aria-hidden="true"><use href="#icon-spinner"></use><use href="#icon-clipboard" class="icon-clipboard"></use></svg></button>

        <!-- <label class="settings__option settings__button" for="import-data">Import from backup<input type="file" id="import-data" accept=".txt"></label>

        <button class="settings__option settings__button" id="export-data">Export to backup</button>

        <button class="settings__option settings__button" id="share-data">Share data to…</button>

        <button class="settings__option settings__button" id="delete-all">Delete all data</button> -->

        <button id="install" disabled>Install app</button>
      </div>
    </details>
  </section>

<!-- INFO -->
  <section id="info" class="main-section main-section--info">
    <p>
      Developed by <a href="https://github.com/electricg" target="_blank">Giulia Alfonsi</a>.<br>
      This is just a personal app with minimal functionalities.<br>
      Live demo at <a href="https://electricg.github.io/mobi-fav-stations/" target="_blank">electricg.github.io/mobi-fav-stations/</a> and source code on <a href="https://github.com/electricg/mobi-fav-stations" target="_blank">GitHub</a>.
    </p>
  </section>

<!-- ALERTS -->
  <div id="alerts" class="alerts-wrapper"></div>
</main>

<footer class="main-footer">
  <div>Status updated: <span id="last-updated-status"></span></div>
  <button id="load-status" class="button-spinner" title="Update status"><svg class="icon" focusable="false" aria-hidden="true"><use href="#icon-spinner"></use><use href="#icon-clipboard" class="icon-clipboard"></use></svg></button>
</footer>

<script src="js/settings.js"></script>
<script src="js/helpers.js"></script>
<script src="js/storage.js"></script>
<script src="js/config.js"></script>
<script src="js/model.js"></script>
<script src="js/template.js"></script>
<script src="js/view.js"></script>
<script src="js/controller.js"></script>
<script src="js/offline.js"></script>
<script src="js/app.js"></script>

</body>
</html>